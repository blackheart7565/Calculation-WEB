const listItems=document.querySelectorAll(".calculation__item"),resultDisplay=document.getElementById("result-display"),viewDisplay=document.getElementById("view-display"),arrayCalNumber=document.querySelectorAll(".number"),arrayMathOperation=document.querySelectorAll(".math-operation"),clearAll=document.getElementById("clearAll"),clearResult=document.getElementById("clearResult");let isZeroResult=!0,isSwitch=!0;function isCheckedValues(e,t){for(const l of e)if(l.innerHTML===t)return l.innerHTML;return""}function isCheckNullAndUndefined(e){return null!==e.textContent||void 0!==e.textContent}function restDisplay(){viewDisplay.innerHTML="",resultDisplay.innerHTML="0",isZeroResult=!0}function restResultDisplay(){resultDisplay.innerHTML="0"}const InputNumber=(e,t)=>{isZeroResult&&(resultDisplay.textContent="",isZeroResult=!1),isSwitch?resultDisplay.textContent+=isCheckedValues(arrayCalNumber,t):(resultDisplay.textContent="",resultDisplay.textContent+=isCheckedValues(arrayCalNumber,t),isSwitch=!0)};function mathOperation(e){switch(e){case"+":isCheckNullAndUndefined(resultDisplay)&&(viewDisplay.innerHTML=`${resultDisplay.textContent} + `);break;case"−":isCheckNullAndUndefined(resultDisplay)&&(viewDisplay.innerHTML=`${resultDisplay.textContent} - `);break;case"×":isCheckNullAndUndefined(resultDisplay)&&(viewDisplay.innerHTML=`${resultDisplay.textContent} × `);break;case"÷":isCheckNullAndUndefined(resultDisplay)&&(viewDisplay.innerHTML=`${resultDisplay.textContent} ÷ `);break;case"⅟x":resultDisplay.innerHTML=resultDisplay.innerHTML.replace(",","."),isSwitch&&(0===resultDisplay.innerHTML?resultDisplay.innerHTML="Деление на ноль невозможно":(viewDisplay.innerHTML=`1/(${resultDisplay.innerHTML})`,resultDisplay.innerHTML=1/resultDisplay.innerHTML),isSwitch=!1);break;case"x^2":isSwitch&&(resultDisplay.innerHTML=resultDisplay.innerHTML.replace(",","."),viewDisplay.innerHTML=`sqr(${resultDisplay.innerHTML})`,resultDisplay.innerHTML=Math.pow(resultDisplay.innerHTML,2),isSwitch=!1);break;case"√x":isSwitch&&(resultDisplay.innerHTML=resultDisplay.innerHTML.replace(",","."),viewDisplay.innerHTML=`√(${resultDisplay.innerHTML})`,resultDisplay.innerHTML=Math.sqrt(resultDisplay.innerHTML,2),isSwitch=!1);break;case"%":break;case"+/-":if("0"!==resultDisplay.innerHTML){resultDisplay.innerHTML=resultDisplay.innerHTML.replace(",",".");let e=(-1*resultDisplay.innerHTML).toString();resultDisplay.innerHTML=e.replace(".",",")}}}function clickCalBtn(e){const t=e.querySelector(".calculation__item .calculation__btn").innerHTML;InputNumber(0,t),isCheckedValues(arrayMathOperation,t)&&mathOperation(t),clearAll.innerHTML===t&&restDisplay(),clearResult.innerHTML===t&&restResultDisplay()}listItems.forEach((e=>{e.addEventListener("click",(t=>clickCalBtn(e)))}));